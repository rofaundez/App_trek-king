<ion-header [translucent]="true" class="header-container">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home" (click)="volver()"></ion-back-button>
    </ion-buttons>
    <ion-title>Detalles de la Ruta</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="ion-padding">
    <!-- Imagen principal de la ruta -->
    <div class="ruta-imagen-container">
      <img [src]="rutaImagen" alt="{{rutaNombre}}" class="ruta-imagen">
    </div>

    <!-- Información básica de la ruta -->
    <ion-card>
      <ion-card-header>
        <ion-card-title>{{rutaNombre}}</ion-card-title>
        <ion-card-subtitle>{{rutaUbicacion}}</ion-card-subtitle>
      </ion-card-header>
      <ion-card-content>
      <ion-chip color="primary">
        <ion-label>{{rutaDificultad}}</ion-label>
      </ion-chip>
      
      <!-- Descripción de la ruta -->
      <div class="descripcion-container">
        <h3>Descripción</h3>
        <p>{{rutaDescripcion}}</p>
      </div>

      <!-- Características de la ruta -->
      <div class="caracteristicas-container">
        <h3>Características</h3>
        <ion-item lines="none">
          <ion-label>
            <h4>Tipo de terreno</h4>
            <p>{{rutaCaracteristicas.tipoTerreno}}</p>
          </ion-label>
        </ion-item>
        <ion-item lines="none">
          <ion-label>
            <h4>Mejor época para visitar</h4>
            <p>{{rutaCaracteristicas.mejorEpoca}}</p>
          </ion-label>
        </ion-item>
        <ion-item lines="none">
          <ion-label> 
            <h4>Recomendaciones</h4>
            <p>{{rutaCaracteristicas.recomendaciones}}</p>
          </ion-label>
        </ion-item>
      </div>

      <!-- Puntos de interés -->
      <div class="puntos-interes-container">
        <h3>Puntos de interés</h3>
        <p>{{rutaPuntosInteres}}</p>
      </div>

      <!-- Botones de acción -->
      <div class="botones-accion" *ngIf="!rutaYaGuardada">
        <ion-button color="medium" class="boton" fill="outline" (click)="abrirCalendario()">
          <ion-icon name="calendar-outline" style="margin-right: 8px"></ion-icon>
          Guardar en Mis Rutas
        </ion-button>
      </div>
      <div class="botones-accion" *ngIf="rutaYaGuardada">
        <ion-button color="success" class="boton" fill="outline" disabled>
          <ion-icon name="checkmark-outline" style="margin-right: 8px"></ion-icon>
          Ruta ya guardada
        </ion-button>
      </div>
    </ion-card-content>
  </ion-card>
  </div>
</ion-content>

<!-- Modal del calendario -->
<ion-modal [isOpen]="isCalendarModalOpen">
  <ng-template>
    <ion-header>
      <ion-toolbar>
        <ion-title>Seleccionar fecha y hora</ion-title>
        <ion-buttons slot="end">
          <ion-button (click)="cerrarCalendario()">
            <ion-icon name="close-outline"></ion-icon>
          </ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding">
      <div class="calendario-container">
        <ion-text class="ion-text-center">
          <h4>¿Cuándo quieres realizar esta ruta?</h4>
        </ion-text>
        
        <div class="selector-container">
          <div class="fecha-selector">
            <ion-text>
              <h5>Selecciona una fecha</h5>
            </ion-text>
            <ion-datetime 
              class="xd"
              presentation="date"
              [preferWheel]="false"
              [showDefaultButtons]="false"
              [min]="fechaMinima"
              (ionChange)="cambioFecha($event)"
              locale="es-ES"
              min="today"
              [firstDayOfWeek]="1"
            ></ion-datetime>
          </div>
          
          <div class="hora-selector">
            <ion-text>
              <h5>Selecciona una hora</h5>
            </ion-text>
            <ion-datetime
              class="xd"
              color="success"
              presentation="time"
              [preferWheel]="true"
              [showDefaultButtons]="false"
              (ionChange)="cambioHora($event)"
              locale="es-ES"
              minuteValues="0, 15, 30, 45"
            ></ion-datetime>
          </div>
        </div>
        
        <div class="ion-padding ion-text-center">
          <ion-button expand="block" (click)="confirmarFecha()" [disabled]="!fechaSeleccionada || !horaSeleccionada">
            <ion-icon name="checkmark-outline" slot="start"></ion-icon>
            GUARDAR EN MIS RUTAS
          </ion-button>
        </div>
      </div>
    </ion-content>
  </ng-template>
</ion-modal>



<app-footer></app-footer>
